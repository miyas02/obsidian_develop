---

---
![[継承 synced block]]

### サブクラスのフィールドとメソッド

サブクラスのインスタンスは、自身のクラスに定義したメソッドだけではなく、スーパークラスのメソッドも呼び出すことができる。
スーパークラスのインスタンスはサブクラスのメソッドを呼び出すことはできない。

### メソッドのオーバーライド

スーパークラスから継承したメソッドと同名のメソッドをサブクラスに定義することで、スーパークラスのメソッド内容を上書きできる。これを**「オーバーライド」**という。

スーパークラスから継承しているメソッドの処理を、特定のサブクラスでカスタマイズしたい場合にオーバーライドする。

```java
class Vehicle {
	public void printData(){
		System.out.println("名前" + this.name);
		System.out.println("色" + this.color);
		System.out.println("走行距離" + this.distance + "km");
	}
}
```

```java
Car.java
class Car extends Vehicle {
	内容を追加してカスタマイズ
スーパークラスの同名メソッドをオーバーライド
	public void printData() {
		System.out.println("名前" + this.getName());
		System.out.println("色:" + this.getColor());
		System.out.println("走行距離:" + this.getDistance() + "km");
		System.out.println("ガソリン量:" + this.fuel + "L");
	}
}
```

### super

**重複しているコードを省略する**

**「super.メソッド名」**とすると、サブクラスのインスタンスメソッドから、スーパークラスのインスタンスメソッドを呼び出すことができる。
これを使えば、CarクラスのprintDataメソッドで、ガソリン量を表示する箇所以外の処理はVehicleクラスのprintDataメソッドを呼び出すことで代用できる

```java
Vehicle.java
	public void printData(){
		System.out.println("名前:" + this.name);
		System.out.println("色:" + this.color);
		System.out.println("走行距離:" + this.distance + "km");
	}
}
```

```java
Car.java
	class Car extends Vehicle {
		public void printData() {
			super.printData(); スーパークラスのインスタンスメソッドを呼び出す
			System.out.println("ガソリン量:" + this.fuel + "L");
	}
}
```

### サブクラスのコンストラクタ

サブクラスでコンストラクタを定義するときは１つの決まりがある
それは**「コンストラクタの先頭でスーパークラスのコンストラクタを呼び出さばければならない」**ということ。

スーパークラスのコンストラクタを呼び出すには、**super( )**を用いる。

```java
Vehicle.java
	class Vehicle {
		System.out.pritnln("スーパークラスのコンストラクタです"); ここを呼び出す
}
```

```java
Car.java
	class Car extends Vehicle {
		Car() {
			super(); スーパークラスのコンストラクタを呼びだす（必須）
			System.out.println("サブクラスのコンストラクタです");
	}
}
```

```java
Main.java
	class Main {
		public static void main(String[] args){
			Car car = new Car();
	}
}
```

### フィールドに値をセットする

スーパークラスに定義されたフィールドに、コンストラクタで値をセットできるようにしてあげましょう。
まず、スーパークラスとサブクラスの双方でコンストラクタを定義しなければならない。
そして、サブクラスのコンストラクタ内でsuper( )に引数を渡して、スーパークラスのコンストラクタを呼び出す。

```java
Vehicle.java
	class Vehicle {
		private String name;
		private String color;
		
		Vehicle(String name;String color) {
		this.name = name;
		this.color = color;
	}
}
```

```java
Car.java
	class Car extends Vehicle {
		Car(String name,String color) {
			super(name,color); スーパークラスのコンストラクタに引数を渡す
	}
}
```

### protected

privateの代わりに、protectedを用いると、クラス内のサブクラスからのみアクセスを許すフィールドを作ることができる。

### 抽象メソッド

処理が未定のメソッドを定義する方法があります。
メソッドにabstractをつけることで、抽象メソッドというメソッドを定義できます。
抽象メソッドには中身の処理を書きません。

abstractとは「抽象的な」という意味です。具体的な処理が決まっていない未完成のメソッドであるため、「抽象メソッド」と呼ばれます。

```java
class Vehicle {
	
	public abstract void rui(int distance); 処理内容は書かない
}
```

抽象メソッドはサブクラスがそのメソッドをオーバーライドしていなければエラーになる。
そのため、**サブクラスがそのメソッドをオーバーライドし、処理内容を定義することを強制できる**。
サブクラスに、あるメソッドを必ず持たせたいという場合は、スーパークラスに抽象メソッドを定義しておくことが重要。

### 抽象クラス

抽象メソッドを１つでも持つクラスは「抽象クラス」と呼ばれ、クラス名の前にabstractをつける必要がある。
抽象クラスはインスタンスを生成できない。

```java
abstract clss Vehicle {
	抽象メソッドを持つクラスは必ず「抽象クラス」になる

	public abstract void run(int distance); 抽象メソッド
```

### クラス型のフィールド

インスタンスフィールドにクラス型の変数を定義することで、フィールドにインスタンスを持つことが可能です。

```java
class Person {
	public static int count = 0;
	public String firtName;
	public String middleName;
	public String lastName;
```

```java
abstract class Vehicle {
	public String name;
	public String color;
	private int distance =0;
	private Person owner; Person型のownerフィールドを追加
```

ゲッターとセッターを定義する
戻り値の型がクラス型になる

```java
abstract class Vehicle {
	private Person owner;
	public Person getOwner(){ 戻り値がPerson型
		return this.owner;
}
public void setOwner(Person person){ Person型の引数を受け取る
	this.owner = person; 
	}
}
```

### インスタンスの戻り値

CarクラスのインスタンスやBicycleクラスのインスタンスに対してgetOwnerメソッドを呼び出すと、
その戻り値はownerフィールドの値、すなわち**Personクラスのインスタンス**となっています

よってgetOwnerメソッドのあとにそのまま続けてPersonクラスのインスタンスメソッドprintDataを呼び出すことが可能です。

```java
Main.java
	class Main {
		public static void main(String[] args){
			Person person = new Person("Kate","Jonew",27);
			Car car = new Car("フェラーリ","赤");
			car.setOwner(person);
			car.getOwner().printData(); PersonクラスのprintDataメソッド
```

```java
Vehicle.java
	abstract class Vehicle [
		private Person owner;
		public Person getOwner(){
			retun this.owner; Personクラスのインスタンス
	}
}
```

### buyメソッドを定義する
